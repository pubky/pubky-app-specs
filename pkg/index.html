<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Pubky App Specs Demo</title>
  </head>
  <body>
    <script type="module">
      import init, { PubkySpecsBuilder } from "./pubky_app_specs.js";

      async function main() {
        try {
          // 1) Initialize and await
          // Option A: If your .wasm is at the same path as "pubky_app_specs_bg.wasm", do:
          await init();

          // Option B (often safer): explicitly provide the .wasm URL
          // await init("./pubky_app_specs_bg.wasm");

          // 2) Now call the function
          const specs = new PubkySpecsBuilder("our_user");
          const result = specs.createFollow("other_user");
          console.log("Success:", result);
        } catch (err) {
          console.error("Error creating follow:", err);
        }
      }

      main();
    </script>
  </body>
</html>
